{% extends 'base.html' %}

{% block content %}

<div class='mb-5'>
    <h2>Categories used for grocery items</h2>

<!-- Pie Chart and table of category counts -->

<div class='row mt-2 align-items-center'>
     <div class='mt-3'><u><h4>Number of Items Sold per Category</h4></u></div>

<div class='col'>
       <table class="table table-striped table-sm mt-3">
            <thead class='thead-dark'>
                <tr>
                    <th scope="col" class='text-warning bg-secondary' width='40%'><h5>Category</h5></th>
                    <th scope="col" class='text-warning bg-secondary text-center'><h5>Total</h5></th>
                    <th scope="col" class='text-warning bg-secondary text-center'><h5>Percentage</h5></th>
                </tr>
            </thead>
            <tbody>
                {% for item in cat %}
                    <tr>
                        <td ><h6><b>{{ item[0] }}</b></h6></td>
                        <td class='text-center'><h6><b>{{ item[1] }}</b></h6></td>
                        <td class='text-center'><h6><b>{{ item[2] }}</b></h6></td>
                   </tr>
                {% endfor %}
            </tbody>
        </table>
</div>
<div class='col-md-6 text-center align-items-center'>
    <img src='{{ url_for("static", filename="media/plot.png") }}'
         alt= "(Pie Chart not available)" class='img-fluid'
         width='400' height='400'/>
</div>
</div>

<!-- This is a pound sign ---- &#8356 -->

<!-- Top 10 total item costs, table and pie chart -->

<div class='row mt-2 align-items-center'>
<div class='col'>
      <div class='mt-3'><u><h4>Top 10 Highest Cost Items (Total)</h4></u></div>
      <table class="table table-striped table-sm mt-3">
            <thead class='thead-dark'>
                <tr>
                    <th scope="col" class='text-warning bg-secondary' width='60%'><h5>Item</h5></th>
                    <th scope="col" class='text-warning bg-secondary text-center'><h5>Number</h5></th>
                    <th scope="col" class='text-warning bg-secondary text-center'><h5>Cost (&#8356)</h5></th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                    <tr>
                        <td><h6><b>{{ item[1] }}</b></h6></td>
                        <td class='text-center'><h6><b>{{ item[2] }}</b></h6></td>
                        <td class='text-center'><h6><b>{{ item[3] }}</b></h6></td>
                   </tr>
                {% endfor %}
            </tbody>
        </table>
</div>
<div class='col-md-6 text-center'>
    <img src='{{ url_for("static", filename="media/plot2.png") }}'
         alt= "(Pie Chart not available) class='img-fluid'"
         width='600' height='300'/>
</div>
</div>

<!-- End of the code for the Top 10 total item costs -->

</div>
{% endblock content %}
